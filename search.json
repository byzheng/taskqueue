[{"path":"https://taskqueue.bangyou.me/CODE_OF_CONDUCT.html","id":null,"dir":"","previous_headings":"","what":"Contributor Code of Conduct","title":"Contributor Code of Conduct","text":"contributors maintainers project, pledge respect people contribute reporting issues, posting feature requests, updating documentation, submitting pull requests patches, activities. committed making participation project harassment-free experience everyone, regardless level experience, gender, gender identity expression, sexual orientation, disability, personal appearance, body size, race, ethnicity, age, religion. Examples unacceptable behavior participants include use sexual language imagery, derogatory comments personal attacks, trolling, public private harassment, insults, unprofessional conduct. Project maintainers right responsibility remove, edit, reject comments, commits, code, wiki edits, issues, contributions aligned Code Conduct. Project maintainers follow Code Conduct may removed project team. Instances abusive, harassing, otherwise unacceptable behavior may reported opening issue contacting one project maintainers. Code Conduct adapted Contributor Covenant (http://contributor-covenant.org), version 1.0.0, available http://contributor-covenant.org/version/1/0/0/","code":""},{"path":"https://taskqueue.bangyou.me/articles/getting-started.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Getting Started with taskqueue","text":"taskqueue R package asynchronous parallel computing based PostgreSQL database. designed dynamically allocate tasks workers, efficiently utilizing available computing resources tasks completed. package suitable Embarrassingly parallel problems - parallel computing without communication among parallel tasks.","code":""},{"path":"https://taskqueue.bangyou.me/articles/getting-started.html","id":"prerequisites","dir":"Articles","previous_headings":"","what":"Prerequisites","title":"Getting Started with taskqueue","text":"using taskqueue, ensure : PostgreSQL installed configured (see PostgreSQL Setup vignette) SSH access configured remote resources (see SSH Setup vignette)","code":""},{"path":"https://taskqueue.bangyou.me/articles/getting-started.html","id":"installation","dir":"Articles","previous_headings":"","what":"Installation","title":"Getting Started with taskqueue","text":"Install development version GitHub:","code":"devtools::install_github('byzheng/taskqueue')"},{"path":[]},{"path":"https://taskqueue.bangyou.me/articles/getting-started.html","id":"initialize-database","dir":"Articles","previous_headings":"Basic Workflow","what":"1. Initialize Database","title":"Getting Started with taskqueue","text":"","code":"library(taskqueue)  # Initialize the database structure db_init()"},{"path":"https://taskqueue.bangyou.me/articles/getting-started.html","id":"define-a-resource","dir":"Articles","previous_headings":"Basic Workflow","what":"2. Define a Resource","title":"Getting Started with taskqueue","text":"computing resource facility/computer can run multiple jobs/workers. Parameters: name: Resource name type: Resource type (currently slurm supported) host: Network name access resource nodename: Obtained Sys.info() resource workers: Maximum number available cores log_folder: Folder store log files (important troubleshooting) Note: log_folder split project. ’s better use high-speed hard drive due frequent /O operations.","code":"resource_add(   name = \"hpc\",    type = \"slurm\",    host = \"hpc.example.com\",    nodename = \"hpc\",   workers = 500,   log_folder = \"/home/user/log_folder/\" )"},{"path":"https://taskqueue.bangyou.me/articles/getting-started.html","id":"create-a-project","dir":"Articles","previous_headings":"Basic Workflow","what":"3. Create a Project","title":"Getting Started with taskqueue","text":"taskqueue manages tasks project. project resources, working directory, runtime requirements, configurations.","code":"# Create a project with common requirements project_add(\"test_project\", memory = 20)"},{"path":"https://taskqueue.bangyou.me/articles/getting-started.html","id":"assign-resource-to-project","dir":"Articles","previous_headings":"Basic Workflow","what":"4. Assign Resource to Project","title":"Getting Started with taskqueue","text":"","code":"project_resource_add(   project = \"test_project\",    resource = \"hpc\" )"},{"path":"https://taskqueue.bangyou.me/articles/getting-started.html","id":"add-tasks","dir":"Articles","previous_headings":"Basic Workflow","what":"5. Add Tasks","title":"Getting Started with taskqueue","text":"","code":"# Add 100 tasks to the project task_add(\"test_project\", num = 100, clean = TRUE)"},{"path":"https://taskqueue.bangyou.me/articles/getting-started.html","id":"develop-your-worker-function","dir":"Articles","previous_headings":"Basic Workflow","what":"6. Develop Your Worker Function","title":"Getting Started with taskqueue","text":"Create function : Takes task id first argument Expects return values Saves final output file system Checks whether task already finished","code":"library(taskqueue)  fun_test <- function(i) {   # Check output file   out_file <- sprintf(\"%s.Rds\", i)   if (file.exists(out_file)) {     return()   }      # Perform the actual computing   # ... your computation here ...      # Save final output   saveRDS(i, out_file) }  # Test locally worker(\"test_project\", fun_test)"},{"path":"https://taskqueue.bangyou.me/articles/getting-started.html","id":"deploy-to-hpc","dir":"Articles","previous_headings":"Basic Workflow","what":"7. Deploy to HPC","title":"Getting Started with taskqueue","text":"developing testing function, save file (e.g., rcode.R) deploy HPC resource:","code":"# Reset task status (if needed) project_reset(\"test_project\")  # Start the project project_start(\"test_project\")  # Schedule tasks on slurm resource worker_slurm(\"test_project\", \"hpc\", \"rcode.R\", modules = \"sqlite/3.43.1\")  # Check task status task_status(\"test_project\")  # Stop the project when done project_stop(\"test_project\")"},{"path":"https://taskqueue.bangyou.me/articles/getting-started.html","id":"task-status","dir":"Articles","previous_headings":"","what":"Task Status","title":"Getting Started with taskqueue","text":"task one four statuses: idle: Task running working: Task currently running worker failed: Task failed reason (check log folder troubleshooting) finished: Task completed without errors","code":""},{"path":[]},{"path":"https://taskqueue.bangyou.me/articles/getting-started.html","id":"check-task-status","dir":"Articles","previous_headings":"Common Operations","what":"Check Task Status","title":"Getting Started with taskqueue","text":"","code":"task_status(\"test_project\")"},{"path":"https://taskqueue.bangyou.me/articles/getting-started.html","id":"reset-tasks","dir":"Articles","previous_headings":"Common Operations","what":"Reset Tasks","title":"Getting Started with taskqueue","text":"Reset tasks project: Reset failed working tasks:","code":"project_reset(\"test_project\") project_reset(\"test_project\", status = \"failed\") project_reset(\"test_project\", status = \"working\")"},{"path":"https://taskqueue.bangyou.me/articles/getting-started.html","id":"manage-projects","dir":"Articles","previous_headings":"Common Operations","what":"Manage Projects","title":"Getting Started with taskqueue","text":"","code":"# List all projects project_list()  # Get project details project_get(\"test_project\")  # Delete a project project_delete(\"test_project\")"},{"path":"https://taskqueue.bangyou.me/articles/getting-started.html","id":"example-complete-workflow","dir":"Articles","previous_headings":"","what":"Example: Complete Workflow","title":"Getting Started with taskqueue","text":"’s complete example using taskqueue:","code":"library(taskqueue)  # 1. Initialize database (first time only) db_init()  # 2. Add resource resource_add(   name = \"my_hpc\",    type = \"slurm\",   host = \"hpc.university.edu\",   nodename = \"hpc\",   workers = 200,   log_folder = \"/home/user/taskqueue_logs/\" )  # 3. Create project project_add(\"simulation_study\", memory = 16)  # 4. Assign resource to project project_resource_add(project = \"simulation_study\", resource = \"my_hpc\")  # 5. Add tasks task_add(\"simulation_study\", num = 1000, clean = TRUE)  # 6. Create worker function (save as worker_script.R) # library(taskqueue) #  # run_simulation <- function(task_id) { #   out_file <- sprintf(\"results/sim_%04d.Rds\", task_id) #   if (file.exists(out_file)) return() #    #   # Run your simulation #   result <- your_simulation_function(task_id) #    #   # Save results #   saveRDS(result, out_file) # } #  # worker(\"simulation_study\", run_simulation)  # 7. Deploy to HPC project_start(\"simulation_study\") worker_slurm(\"simulation_study\", \"my_hpc\", \"worker_script.R\")  # 8. Monitor progress task_status(\"simulation_study\")  # 9. Stop when complete project_stop(\"simulation_study\")"},{"path":"https://taskqueue.bangyou.me/articles/getting-started.html","id":"tips","dir":"Articles","previous_headings":"","what":"Tips","title":"Getting Started with taskqueue","text":"Test Locally First: Always test worker function locally worker() deploying HPC Check Logs: tasks fail, check log folder error messages Idempotent Functions: Make worker functions idempotent (can run multiple times safely) checking output already exists Resource Monitoring: Use task_status() regularly monitor progress Clean Start: Use project_reset() restart failed tasks","code":""},{"path":"https://taskqueue.bangyou.me/articles/getting-started.html","id":"next-steps","dir":"Articles","previous_headings":"","what":"Next Steps","title":"Getting Started with taskqueue","text":"Read PostgreSQL Setup vignette database configuration details Explore SSH Setup vignette working remote HPC systems Check function documentation ?function_name detailed parameter information","code":""},{"path":"https://taskqueue.bangyou.me/articles/getting-started.html","id":"additional-resources","dir":"Articles","previous_headings":"","what":"Additional Resources","title":"Getting Started with taskqueue","text":"taskqueue GitHub Repository PostgreSQL Documentation","code":""},{"path":"https://taskqueue.bangyou.me/articles/postgresql-setup.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"PostgreSQL Setup for taskqueue","text":"taskqueue package uses PostgreSQL manage tasks, projects, workers. vignette shows install configure PostgreSQL Ubuntu HPC environments. PostgreSQL installed server worker nodes can access.","code":""},{"path":"https://taskqueue.bangyou.me/articles/postgresql-setup.html","id":"why-postgresql","dir":"Articles","previous_headings":"","what":"Why PostgreSQL?","title":"PostgreSQL Setup for taskqueue","text":"PostgreSQL chosen taskqueue : Concurrent Access: Handles large numbers concurrent requests multiple workers ACID Compliance: Ensures data integrity task status updates Reliability: Proven track record production workloads Performance: Efficient handling read/write operations Open Source: Free widely supported","code":""},{"path":"https://taskqueue.bangyou.me/articles/postgresql-setup.html","id":"installation-on-ubuntu","dir":"Articles","previous_headings":"","what":"Installation on Ubuntu","title":"PostgreSQL Setup for taskqueue","text":"","code":"# Update and install PostgreSQL sudo apt update sudo apt install postgresql postgresql-contrib  # Start PostgreSQL sudo systemctl start postgresql sudo systemctl enable postgresql"},{"path":"https://taskqueue.bangyou.me/articles/postgresql-setup.html","id":"create-database-and-user","dir":"Articles","previous_headings":"","what":"Create Database and User","title":"PostgreSQL Setup for taskqueue","text":"","code":"# Switch to postgres user and create database sudo -u postgres psql  # Run these commands in the PostgreSQL prompt: CREATE USER taskqueue_user WITH PASSWORD 'your_password'; CREATE DATABASE taskqueue_db OWNER taskqueue_user; GRANT ALL PRIVILEGES ON DATABASE taskqueue_db TO taskqueue_user; \\q"},{"path":"https://taskqueue.bangyou.me/articles/postgresql-setup.html","id":"configure-remote-access","dir":"Articles","previous_headings":"","what":"Configure Remote Access","title":"PostgreSQL Setup for taskqueue","text":"Allow worker nodes connect PostgreSQL.","code":""},{"path":"https://taskqueue.bangyou.me/articles/postgresql-setup.html","id":"edit-postgresql-conf","dir":"Articles","previous_headings":"Configure Remote Access","what":"1. Edit postgresql.conf","title":"PostgreSQL Setup for taskqueue","text":"","code":"# Edit configuration file (adjust version number if needed) sudo nano /etc/postgresql/14/main/postgresql.conf  # Find and change: listen_addresses = '*'"},{"path":"https://taskqueue.bangyou.me/articles/postgresql-setup.html","id":"edit-pg_hba-conf","dir":"Articles","previous_headings":"Configure Remote Access","what":"2. Edit pg_hba.conf","title":"PostgreSQL Setup for taskqueue","text":"","code":"# Edit authentication file sudo nano /etc/postgresql/14/main/pg_hba.conf  # Add this line: # For specific HPC network (recommended): host    taskqueue_db    taskqueue_user    10.0.0.0/8        md5 # Or for all IPs (less secure): host    taskqueue_db    taskqueue_user    0.0.0.0/0         md5"},{"path":"https://taskqueue.bangyou.me/articles/postgresql-setup.html","id":"restart-postgresql","dir":"Articles","previous_headings":"Configure Remote Access","what":"3. Restart PostgreSQL","title":"PostgreSQL Setup for taskqueue","text":"","code":"sudo systemctl restart postgresql"},{"path":"https://taskqueue.bangyou.me/articles/postgresql-setup.html","id":"open-firewall-if-needed","dir":"Articles","previous_headings":"Configure Remote Access","what":"4. Open Firewall if Needed","title":"PostgreSQL Setup for taskqueue","text":"","code":"# Allow PostgreSQL port from HPC network sudo ufw allow from 10.0.0.0/8 to any port 5432 # Or allow from all IPs (less secure): sudo ufw allow 5432/tcp"},{"path":"https://taskqueue.bangyou.me/articles/postgresql-setup.html","id":"r-configuration","dir":"Articles","previous_headings":"","what":"R Configuration","title":"PostgreSQL Setup for taskqueue","text":"machines (daily working machines, login nodes compute nodes), add environment variables ~/.Renviron: Edit .Renviron: Restart R editing .Renviron.","code":"PGHOST=your.database.server.com PGPORT=5432 PGUSER=taskqueue_user PGPASSWORD=your_password PGDATABASE=taskqueue_db nano ~/.Renviron # Add the variables above, then save and exit"},{"path":"https://taskqueue.bangyou.me/articles/postgresql-setup.html","id":"install-r-packages","dir":"Articles","previous_headings":"","what":"Install R Packages","title":"PostgreSQL Setup for taskqueue","text":"","code":"# install from CRAN install.packages(\"taskqueue\") # or install the latest development version from GitHub remotes::install_github(\"byzheng/taskqueue\")"},{"path":"https://taskqueue.bangyou.me/articles/postgresql-setup.html","id":"test-connection","dir":"Articles","previous_headings":"","what":"Test Connection","title":"PostgreSQL Setup for taskqueue","text":"","code":"library(taskqueue) db_connect()"},{"path":"https://taskqueue.bangyou.me/articles/postgresql-setup.html","id":"initialize-taskqueue","dir":"Articles","previous_headings":"","what":"Initialize taskqueue","title":"PostgreSQL Setup for taskqueue","text":"","code":"library(taskqueue)  # Create required tables db_init()"},{"path":"https://taskqueue.bangyou.me/articles/postgresql-setup.html","id":"security-notes","dir":"Articles","previous_headings":"","what":"Security Notes","title":"PostgreSQL Setup for taskqueue","text":"Use strong passwords Restrict IP ranges pg_hba.conf HPC network Protect .Renviron: chmod 600 ~/.Renviron","code":""},{"path":"https://taskqueue.bangyou.me/articles/postgresql-setup.html","id":"clean-database","dir":"Articles","previous_headings":"","what":"Clean Database","title":"PostgreSQL Setup for taskqueue","text":"needed, remove taskqueue data: package recreate tables automatically needed.","code":"library(taskqueue) db_clean()  # Removes all tables"},{"path":"https://taskqueue.bangyou.me/articles/simple-workflow.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Simple Workflow with tq_apply","text":"tq_apply() provides simplified workflow running parallel tasks HPC clusters. combines multiple steps (project creation, resource assignment, task addition, worker scheduling) single function call, similar base R’s lapply() sapply(). easiest way get started taskqueue : simple function run multiple times Don’t need complex project management Want quickly parallelize work HPC cluster using taskqueue, ensure : PostgreSQL installed configured (see PostgreSQL Setup vignette) SSH access configured remote resources (see SSH Setup vignette) Database initialized: resource already defined:","code":"library(taskqueue) db_init() resource_add(   name = \"hpc\",   type = \"slurm\",   host = \"hpc.example.com\",   nodename = \"hpc\",   workers = 500,   log_folder = \"/home/user/log_folder/\" )"},{"path":"https://taskqueue.bangyou.me/articles/simple-workflow.html","id":"basic-usage","dir":"Articles","previous_headings":"","what":"Basic Usage","title":"Simple Workflow with tq_apply","text":"simplest use tq_apply() requires just arguments: : Create update project “my_project” Add resource “hpc” project Create 100 tasks Schedule workers SLURM cluster Execute my_simulation(1), my_simulation(2), …, my_simulation(100) parallel","code":"library(taskqueue)  # Define your function my_simulation <- function(i) {   # Your computation here   result <- i^2   Sys.sleep(1)  # Simulate some work   return(result) }  # Run 100 tasks in parallel tq_apply(   n = 100,   fun = my_simulation,   project = \"my_project\",   resource = \"hpc\" )"},{"path":[]},{"path":"https://taskqueue.bangyou.me/articles/simple-workflow.html","id":"required-arguments","dir":"Articles","previous_headings":"Function Arguments","what":"Required Arguments","title":"Simple Workflow with tq_apply","text":"n: Number tasks run (integer) fun: function execute task project: Project name (string) resource: Resource name (string, must already exist)","code":""},{"path":"https://taskqueue.bangyou.me/articles/simple-workflow.html","id":"optional-arguments","dir":"Articles","previous_headings":"Function Arguments","what":"Optional Arguments","title":"Simple Workflow with tq_apply","text":"memory: Memory per task GB (default: 10) hour: Maximum runtime hours (default: 24) account: Account name cluster billing (optional) working_dir: Working directory cluster (default: getwd()) ...: Additional arguments passed function","code":""},{"path":"https://taskqueue.bangyou.me/articles/simple-workflow.html","id":"passing-arguments-to-your-function","dir":"Articles","previous_headings":"","what":"Passing Arguments to Your Function","title":"Simple Workflow with tq_apply","text":"can pass additional arguments function using ...: task call: - Task 1: my_function(1, multiplier = 10, offset = 5) - Task 2: my_function(2, multiplier = 10, offset = 5) - …","code":"my_function <- function(i, multiplier, offset = 0) {   result <- i * multiplier + offset   return(result) }  tq_apply(   n = 50,   fun = my_function,   project = \"test_args\",   resource = \"hpc\",   multiplier = 10,    # Passed to my_function   offset = 5          # Passed to my_function )"},{"path":"https://taskqueue.bangyou.me/articles/simple-workflow.html","id":"complete-example","dir":"Articles","previous_headings":"","what":"Complete Example","title":"Simple Workflow with tq_apply","text":"’s practical example running Monte Carlo simulation:","code":"library(taskqueue)  # Define simulation function run_monte_carlo <- function(task_id, n_samples = 10000, seed_base = 12345) {   # Set unique seed for each task   set.seed(seed_base + task_id)      # Run simulation   samples <- rnorm(n_samples)   result <- list(     task_id = task_id,     mean = mean(samples),     sd = sd(samples),     quantiles = quantile(samples, probs = c(0.025, 0.5, 0.975))   )      # Save results   out_file <- sprintf(\"results/simulation_%04d.Rds\", task_id)   dir.create(\"results\", showWarnings = FALSE)   saveRDS(result, out_file)      return(invisible(NULL)) }  # Run 1000 simulations in parallel tq_apply(   n = 1000,   fun = run_monte_carlo,   project = \"monte_carlo_study\",   resource = \"hpc\",   memory = 8,           # 8 GB per task   hour = 2,             # 2 hour time limit   working_dir = \"/home/user/monte_carlo\",   n_samples = 50000,    # Argument for run_monte_carlo   seed_base = 99999     # Argument for run_monte_carlo )"},{"path":"https://taskqueue.bangyou.me/articles/simple-workflow.html","id":"monitoring-progress","dir":"Articles","previous_headings":"","what":"Monitoring Progress","title":"Simple Workflow with tq_apply","text":"calling tq_apply(), monitor tasks:","code":"# Check task status task_status(\"monte_carlo_study\")  # Check overall project status project_status(\"monte_carlo_study\")"},{"path":"https://taskqueue.bangyou.me/articles/simple-workflow.html","id":"collecting-results","dir":"Articles","previous_headings":"","what":"Collecting Results","title":"Simple Workflow with tq_apply","text":"tasks complete, collect results:","code":"# Read all result files result_files <- list.files(\"results\", pattern = \"simulation_.*\\\\.Rds$\",                            full.names = TRUE)  # Combine results all_results <- lapply(result_files, readRDS)  # Analyze means <- sapply(all_results, function(x) x$mean) hist(means, main = \"Distribution of Means\")"},{"path":[]},{"path":"https://taskqueue.bangyou.me/articles/simple-workflow.html","id":"save-results-to-files","dir":"Articles","previous_headings":"Best Practices","what":"1. Save Results to Files","title":"Simple Workflow with tq_apply","text":"function save results file system:","code":"my_task <- function(i) {   out_file <- sprintf(\"output/result_%04d.Rds\", i)      # Skip if already done   if (file.exists(out_file)) {     return(invisible(NULL))   }      # Do computation   result <- expensive_computation(i)      # Save result   saveRDS(result, out_file) }"},{"path":"https://taskqueue.bangyou.me/articles/simple-workflow.html","id":"make-functions-idempotent","dir":"Articles","previous_headings":"Best Practices","what":"2. Make Functions Idempotent","title":"Simple Workflow with tq_apply","text":"Check output already exists avoid re-running completed tasks:","code":"my_task <- function(i) {   out_file <- sprintf(\"output/task_%d.Rds\", i)   if (file.exists(out_file)) return(invisible(NULL))      # ... computation and save }"},{"path":"https://taskqueue.bangyou.me/articles/simple-workflow.html","id":"specify-working-directory","dir":"Articles","previous_headings":"Best Practices","what":"3. Specify Working Directory","title":"Simple Workflow with tq_apply","text":"Ensure working directory cluster correct:","code":"tq_apply(   n = 100,   fun = my_function,   project = \"my_project\",   resource = \"hpc\",   working_dir = \"/home/user/project_folder\" )"},{"path":"https://taskqueue.bangyou.me/articles/simple-workflow.html","id":"set-appropriate-resources","dir":"Articles","previous_headings":"Best Practices","what":"4. Set Appropriate Resources","title":"Simple Workflow with tq_apply","text":"Configure memory time limits based task requirements:","code":"tq_apply(   n = 100,   fun = memory_intensive_task,   project = \"big_analysis\",   resource = \"hpc\",   memory = 64,    # 64 GB for large tasks   hour = 48       # 48 hour time limit )"},{"path":"https://taskqueue.bangyou.me/articles/simple-workflow.html","id":"comparison-with-manual-workflow","dir":"Articles","previous_headings":"","what":"Comparison with Manual Workflow","title":"Simple Workflow with tq_apply","text":"tq_apply() simplifies workflow combining steps: Manual approach: tq_apply():","code":"# Multiple steps project_add(\"test\", memory = 10) project_resource_add(\"test\", \"hpc\", working_dir = \"/path\", hours = 24) task_add(\"test\", num = 100, clean = TRUE) project_reset(\"test\") worker_slurm(\"test\", \"hpc\", fun = my_function) # Single step tq_apply(n = 100, fun = my_function, project = \"test\", resource = \"hpc\",          working_dir = \"/path\", hour = 24)"},{"path":"https://taskqueue.bangyou.me/articles/simple-workflow.html","id":"troubleshooting","dir":"Articles","previous_headings":"","what":"Troubleshooting","title":"Simple Workflow with tq_apply","text":"Tasks fail immediately: - Check log folder specified resource configuration - Verify function works locally first - Ensure working directory exists cluster Tasks remain “idle” status: - Check project started: project_start(\"my_project\") - Verify resource correctly configured - Check SLURM queue: squeue -u $USER “Resource found” error: - resource must created using tq_apply() - Use resource_list() see available resources - Create resource resource_add()","code":""},{"path":"https://taskqueue.bangyou.me/articles/simple-workflow.html","id":"when-to-use-tq_apply","dir":"Articles","previous_headings":"","what":"When to Use tq_apply()","title":"Simple Workflow with tq_apply","text":"Use tq_apply() : - simple parallel task - want quickly run many iterations function - don’t need fine-grained control project settings Use manual workflow : - need manage multiple projects simultaneously - want reuse project different task sets - need control resource scheduling - ’re running different types tasks project","code":""},{"path":"https://taskqueue.bangyou.me/articles/ssh-setup.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"SSH Setup for taskqueue","text":"separate daily working machine remote high performance cluster (HPC), taskqueue package can connect remote server using R ssh library run tasks remotely. example, daily working machine daily-work remote HPC head/login node hpc-login. can submit run tasks hpc-login daily-work via SSH connection. run tasks remote server, must enable passwordless SSH login daily-work remote server.","code":""},{"path":"https://taskqueue.bangyou.me/articles/ssh-setup.html","id":"prerequisites","dir":"Articles","previous_headings":"","what":"Prerequisites","title":"SSH Setup for taskqueue","text":"SSH client installed local machine (daily-work) SSH server running remote HPC (hpc-login) User account remote server R package ssh installed: install.packages(\"ssh\")","code":""},{"path":[]},{"path":"https://taskqueue.bangyou.me/articles/ssh-setup.html","id":"generate-ssh-keypair","dir":"Articles","previous_headings":"Setup Steps","what":"1. Generate SSH keypair","title":"SSH Setup for taskqueue","text":"Generate new SSH key pair local machine (daily-work): happens: - ’ll prompted choose file location (press Enter accept default: ~/.ssh/id_ed25519) - ’ll asked enter passphrase (press Enter twice passphrase, enter passphrase additional security) - Two files created: - ~/.ssh/id_ed25519 (private key - keep secure!) - ~/.ssh/id_ed25519.pub (public key - copied remote server) Note: already existing SSH key pair want use , can skip step.","code":"ssh-keygen -t ed25519 -C \"your_email@example.com\""},{"path":"https://taskqueue.bangyou.me/articles/ssh-setup.html","id":"copy-the-public-key-to-the-remote-server","dir":"Articles","previous_headings":"Setup Steps","what":"2. Copy the public key to the remote server","title":"SSH Setup for taskqueue","text":"Install public key remote server enable passwordless login: Replace user actual username remote server. happens: - ’ll prompted enter password remote server - public key added ~/.ssh/authorized_keys remote server - Future connections require password Alternative method (ssh-copy-id available): Windows users: using PowerShell Windows: use Git Bash terminal Unix-style commands.","code":"ssh-copy-id user@hpc-login cat ~/.ssh/id_ed25519.pub | ssh user@hpc-login \"mkdir -p ~/.ssh && chmod 700 ~/.ssh && cat >> ~/.ssh/authorized_keys && chmod 600 ~/.ssh/authorized_keys\" type $env:USERPROFILE\\.ssh\\id_ed25519.pub | ssh user@hpc-login \"cat >> ~/.ssh/authorized_keys\""},{"path":"https://taskqueue.bangyou.me/articles/ssh-setup.html","id":"test-the-connection","dir":"Articles","previous_headings":"Setup Steps","what":"3. Test the connection","title":"SSH Setup for taskqueue","text":"Verify passwordless SSH login works: Expected result: - logged remote server without prompted password - Type exit close connection","code":"ssh user@hpc-login"},{"path":"https://taskqueue.bangyou.me/articles/ssh-setup.html","id":"test-with-r","dir":"Articles","previous_headings":"Setup Steps","what":"4. Test with R","title":"SSH Setup for taskqueue","text":"Verify connection works R: works without prompting password, setup complete!","code":"library(ssh)  # Create SSH session session <- ssh_connect(\"user@hpc-login\")  # Run a test command ssh_exec_wait(session, command = \"hostname\")  # Disconnect ssh_disconnect(session)"},{"path":[]},{"path":"https://taskqueue.bangyou.me/articles/ssh-setup.html","id":"connection-still-asks-for-password","dir":"Articles","previous_headings":"Troubleshooting","what":"Connection still asks for password","title":"SSH Setup for taskqueue","text":"Check file permissions remote server: Verify public key added: see public key listed.","code":"ssh user@hpc-login \"chmod 700 ~/.ssh && chmod 600 ~/.ssh/authorized_keys\" ssh user@hpc-login \"cat ~/.ssh/authorized_keys\""},{"path":"https://taskqueue.bangyou.me/articles/ssh-setup.html","id":"ssh-key-not-found","dir":"Articles","previous_headings":"Troubleshooting","what":"SSH key not found","title":"SSH Setup for taskqueue","text":"saved key non-default name, may need specify : add SSH config file (~/.ssh/config):","code":"ssh -i ~/.ssh/my_custom_key user@hpc-login Host hpc-login     HostName hpc-login.example.com     User user     IdentityFile ~/.ssh/my_custom_key"},{"path":"https://taskqueue.bangyou.me/articles/ssh-setup.html","id":"using-ssh-agent-optional-for-keys-with-passphrases","dir":"Articles","previous_headings":"Troubleshooting","what":"Using SSH agent (optional, for keys with passphrases)","title":"SSH Setup for taskqueue","text":"used passphrase SSH key, can use SSH agent avoid entering repeatedly:","code":"# Start the SSH agent eval \"$(ssh-agent -s)\"  # Add your key to the agent ssh-add ~/.ssh/id_ed25519"},{"path":"https://taskqueue.bangyou.me/articles/ssh-setup.html","id":"security-best-practices","dir":"Articles","previous_headings":"","what":"Security Best Practices","title":"SSH Setup for taskqueue","text":"Never share private key (~/.ssh/id_ed25519) - keep secure local machine Use passphrase SSH key additional security (especially shared machines) Private key: chmod 600 ~/.ssh/id_ed25519 SSH directory: chmod 700 ~/.ssh Use different keys different servers working sensitive systems Regularly rotate keys remove old keys authorized_keys files","code":""},{"path":"https://taskqueue.bangyou.me/articles/ssh-setup.html","id":"additional-resources","dir":"Articles","previous_headings":"","what":"Additional Resources","title":"SSH Setup for taskqueue","text":"SSH Academy - SSH Keys GitHub SSH Documentation R ssh package documentation","code":""},{"path":"https://taskqueue.bangyou.me/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Bangyou Zheng. Author, maintainer.","code":""},{"path":"https://taskqueue.bangyou.me/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Zheng B (2025). taskqueue: Task Queue R Based PostgreSQL. R package version 0.2.0, https://taskqueue.bangyou./.","code":"@Manual{,   title = {taskqueue: Task Queue in R Based on PostgreSQL},   author = {Bangyou Zheng},   year = {2025},   note = {R package version 0.2.0},   url = {https://taskqueue.bangyou.me/}, }"},{"path":"https://taskqueue.bangyou.me/index.html","id":"taskqueue","dir":"","previous_headings":"","what":"Task Queue in R Based on PostgreSQL","title":"Task Queue in R Based on PostgreSQL","text":"Task Queue implemented R asynchronous tasks based PostgreSQL database. package suitable parallel computing without communication among parallel tasks (.e. Embarrassingly parallel).","code":""},{"path":"https://taskqueue.bangyou.me/index.html","id":"challenge-of-parallel-computing-in-r","dir":"","previous_headings":"","what":"Challenge of parallel computing in R","title":"Task Queue in R Based on PostgreSQL","text":"Several R packages using parallel computing (e.g. High-Performance Parallel Computing R suitable asynchronous tasks. Uneven load among cores/workers. workers run faster others wait others stop. utilise new available workers parallel task started. taskqueue designed utilise available computing resources tasks finished dynamic allocating tasks workers.","code":""},{"path":"https://taskqueue.bangyou.me/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Task Queue in R Based on PostgreSQL","text":"Install developing version Github.","code":"remotes::install_github('byzheng/taskqueue')"},{"path":"https://taskqueue.bangyou.me/index.html","id":"getting-started","dir":"","previous_headings":"","what":"Getting Started","title":"Task Queue in R Based on PostgreSQL","text":"Please refer Getting Started vignette details. Simple workflow example article complete simplified workflow.","code":""},{"path":"https://taskqueue.bangyou.me/reference/db_clean.html","id":null,"dir":"Reference","previous_headings":"","what":"Clean all tables and definition — db_clean","title":"Clean all tables and definition — db_clean","text":"Clean tables definition","code":""},{"path":"https://taskqueue.bangyou.me/reference/db_clean.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clean all tables and definition — db_clean","text":"","code":"db_clean()"},{"path":"https://taskqueue.bangyou.me/reference/db_clean.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clean all tables and definition — db_clean","text":"return","code":""},{"path":"https://taskqueue.bangyou.me/reference/db_connect.html","id":null,"dir":"Reference","previous_headings":"","what":"Connect to postgreSQL db — db_connect","title":"Connect to postgreSQL db — db_connect","text":"Connect postgreSQL db","code":""},{"path":"https://taskqueue.bangyou.me/reference/db_connect.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Connect to postgreSQL db — db_connect","text":"","code":"db_connect(con = NULL)"},{"path":"https://taskqueue.bangyou.me/reference/db_connect.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Connect to postgreSQL db — db_connect","text":"con existing connection. Return existing connection null","code":""},{"path":"https://taskqueue.bangyou.me/reference/db_connect.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Connect to postgreSQL db — db_connect","text":"connection object produced dbConnect","code":""},{"path":"https://taskqueue.bangyou.me/reference/db_connect.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Connect to postgreSQL db — db_connect","text":"","code":"if (FALSE) { # \\dontrun{ con <- db_connect() } # }"},{"path":"https://taskqueue.bangyou.me/reference/db_disconnect.html","id":null,"dir":"Reference","previous_headings":"","what":"Disconnect to db — db_disconnect","title":"Disconnect to db — db_disconnect","text":"Disconnect db","code":""},{"path":"https://taskqueue.bangyou.me/reference/db_disconnect.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Disconnect to db — db_disconnect","text":"","code":"db_disconnect(con)"},{"path":"https://taskqueue.bangyou.me/reference/db_disconnect.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Disconnect to db — db_disconnect","text":"con connection object produced dbConnect.","code":""},{"path":"https://taskqueue.bangyou.me/reference/db_disconnect.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Disconnect to db — db_disconnect","text":"return values","code":""},{"path":"https://taskqueue.bangyou.me/reference/db_disconnect.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Disconnect to db — db_disconnect","text":"","code":"if (FALSE) { # \\dontrun{ con <- db_disconnect() dbDisconnect(con) } # }"},{"path":"https://taskqueue.bangyou.me/reference/db_init.html","id":null,"dir":"Reference","previous_headings":"","what":"Initialize PostgreSQL database for taskqueue — db_init","title":"Initialize PostgreSQL database for taskqueue — db_init","text":"Initialize PostgreSQL database taskqueue","code":""},{"path":"https://taskqueue.bangyou.me/reference/db_init.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Initialize PostgreSQL database for taskqueue — db_init","text":"","code":"db_init()"},{"path":"https://taskqueue.bangyou.me/reference/db_init.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Initialize PostgreSQL database for taskqueue — db_init","text":"return","code":""},{"path":"https://taskqueue.bangyou.me/reference/db_sql.html","id":null,"dir":"Reference","previous_headings":"","what":"A Wrapper function for DBI interface — db_sql","title":"A Wrapper function for DBI interface — db_sql","text":"Wrapper function DBI interface","code":""},{"path":"https://taskqueue.bangyou.me/reference/db_sql.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"A Wrapper function for DBI interface — db_sql","text":"","code":"db_sql(sql, method, con = NULL)"},{"path":"https://taskqueue.bangyou.me/reference/db_sql.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"A Wrapper function for DBI interface — db_sql","text":"sql multile sql statements method method DBI con connection","code":""},{"path":"https://taskqueue.bangyou.me/reference/db_sql.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"A Wrapper function for DBI interface — db_sql","text":"Results last sql statement method DBI interface","code":""},{"path":"https://taskqueue.bangyou.me/reference/dot-check_absolute_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Check absolute path for system — .check_absolute_path","title":"Check absolute path for system — .check_absolute_path","text":"Check absolute path system","code":""},{"path":"https://taskqueue.bangyou.me/reference/dot-check_absolute_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check absolute path for system — .check_absolute_path","text":"","code":".check_absolute_path(path)"},{"path":"https://taskqueue.bangyou.me/reference/dot-check_absolute_path.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check absolute path for system — .check_absolute_path","text":"path File path check","code":""},{"path":"https://taskqueue.bangyou.me/reference/dot-check_absolute_path.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check absolute path for system — .check_absolute_path","text":"return expected","code":""},{"path":"https://taskqueue.bangyou.me/reference/dot-check_linux_absolute_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Check absolute path for Linux — .check_linux_absolute_path","title":"Check absolute path for Linux — .check_linux_absolute_path","text":"Check absolute path Linux","code":""},{"path":"https://taskqueue.bangyou.me/reference/dot-check_linux_absolute_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check absolute path for Linux — .check_linux_absolute_path","text":"","code":".check_linux_absolute_path(path)"},{"path":"https://taskqueue.bangyou.me/reference/dot-check_linux_absolute_path.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check absolute path for Linux — .check_linux_absolute_path","text":"path File path check","code":""},{"path":"https://taskqueue.bangyou.me/reference/dot-check_linux_absolute_path.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check absolute path for Linux — .check_linux_absolute_path","text":"return expected","code":""},{"path":"https://taskqueue.bangyou.me/reference/dot-check_windows_absolute_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Check absolute path for Windows — .check_windows_absolute_path","title":"Check absolute path for Windows — .check_windows_absolute_path","text":"Check absolute path Windows","code":""},{"path":"https://taskqueue.bangyou.me/reference/dot-check_windows_absolute_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check absolute path for Windows — .check_windows_absolute_path","text":"","code":".check_windows_absolute_path(path)"},{"path":"https://taskqueue.bangyou.me/reference/dot-check_windows_absolute_path.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check absolute path for Windows — .check_windows_absolute_path","text":"path File path check","code":""},{"path":"https://taskqueue.bangyou.me/reference/dot-check_windows_absolute_path.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check absolute path for Windows — .check_windows_absolute_path","text":"return expected","code":""},{"path":"https://taskqueue.bangyou.me/reference/is_db_connect.html","id":null,"dir":"Reference","previous_headings":"","what":"Test whether db can be connected — is_db_connect","title":"Test whether db can be connected — is_db_connect","text":"Test whether db can connected","code":""},{"path":"https://taskqueue.bangyou.me/reference/is_db_connect.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Test whether db can be connected — is_db_connect","text":"","code":"is_db_connect()"},{"path":"https://taskqueue.bangyou.me/reference/is_db_connect.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Test whether db can be connected — is_db_connect","text":"TRUE test db available.","code":""},{"path":"https://taskqueue.bangyou.me/reference/project_add.html","id":null,"dir":"Reference","previous_headings":"","what":"Create project to database — project_add","title":"Create project to database — project_add","text":"Create project database","code":""},{"path":"https://taskqueue.bangyou.me/reference/project_add.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create project to database — project_add","text":"","code":"project_add(project, memory = 10)"},{"path":"https://taskqueue.bangyou.me/reference/project_add.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create project to database — project_add","text":"project project name memory memory usage GB","code":""},{"path":"https://taskqueue.bangyou.me/reference/project_add.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create project to database — project_add","text":"returns","code":""},{"path":"https://taskqueue.bangyou.me/reference/project_delete.html","id":null,"dir":"Reference","previous_headings":"","what":"Delete a project — project_delete","title":"Delete a project — project_delete","text":"Delete project","code":""},{"path":"https://taskqueue.bangyou.me/reference/project_delete.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Delete a project — project_delete","text":"","code":"project_delete(project, con = NULL)"},{"path":"https://taskqueue.bangyou.me/reference/project_delete.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Delete a project — project_delete","text":"project project name con connection database","code":""},{"path":"https://taskqueue.bangyou.me/reference/project_delete.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Delete a project — project_delete","text":"return","code":""},{"path":"https://taskqueue.bangyou.me/reference/project_get.html","id":null,"dir":"Reference","previous_headings":"","what":"Get a project — project_get","title":"Get a project — project_get","text":"Get project","code":""},{"path":"https://taskqueue.bangyou.me/reference/project_get.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get a project — project_get","text":"","code":"project_get(project, con = NULL)"},{"path":"https://taskqueue.bangyou.me/reference/project_get.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get a project — project_get","text":"project project name con connection database","code":""},{"path":"https://taskqueue.bangyou.me/reference/project_get.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get a project — project_get","text":"table project information","code":""},{"path":"https://taskqueue.bangyou.me/reference/project_list.html","id":null,"dir":"Reference","previous_headings":"","what":"List all projects — project_list","title":"List all projects — project_list","text":"List projects","code":""},{"path":"https://taskqueue.bangyou.me/reference/project_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List all projects — project_list","text":"","code":"project_list(con = NULL)"},{"path":"https://taskqueue.bangyou.me/reference/project_list.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List all projects — project_list","text":"con db connection","code":""},{"path":"https://taskqueue.bangyou.me/reference/project_list.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List all projects — project_list","text":"table projects","code":""},{"path":"https://taskqueue.bangyou.me/reference/project_reset.html","id":null,"dir":"Reference","previous_headings":"","what":"Reset a project — project_reset","title":"Reset a project — project_reset","text":"Reset project","code":""},{"path":"https://taskqueue.bangyou.me/reference/project_reset.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Reset a project — project_reset","text":"","code":"project_reset(project, log_clean = TRUE)"},{"path":"https://taskqueue.bangyou.me/reference/project_reset.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Reset a project — project_reset","text":"project project name log_clean whether clean log files","code":""},{"path":"https://taskqueue.bangyou.me/reference/project_reset.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Reset a project — project_reset","text":"return","code":""},{"path":"https://taskqueue.bangyou.me/reference/project_resource_add.html","id":null,"dir":"Reference","previous_headings":"","what":"Assign a resource to a project — project_resource_add","title":"Assign a resource to a project — project_resource_add","text":"Assign resource project","code":""},{"path":"https://taskqueue.bangyou.me/reference/project_resource_add.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Assign a resource to a project — project_resource_add","text":"","code":"project_resource_add(   project,   resource,   working_dir,   account = NULL,   hours = 1,   workers = NULL )"},{"path":"https://taskqueue.bangyou.me/reference/project_resource_add.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Assign a resource to a project — project_resource_add","text":"project project name resource resource name working_dir working directory resource account optional account use resource hours worker wall times hours resource workers maximum workers project.","code":""},{"path":"https://taskqueue.bangyou.me/reference/project_resource_add.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Assign a resource to a project — project_resource_add","text":"return","code":""},{"path":"https://taskqueue.bangyou.me/reference/project_resource_add_jobs.html","id":null,"dir":"Reference","previous_headings":"","what":"Add a job to project/resource — project_resource_add_jobs","title":"Add a job to project/resource — project_resource_add_jobs","text":"Add job project/resource","code":""},{"path":"https://taskqueue.bangyou.me/reference/project_resource_add_jobs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add a job to project/resource — project_resource_add_jobs","text":"","code":"project_resource_add_jobs(project, resource, job, reset = FALSE)"},{"path":"https://taskqueue.bangyou.me/reference/project_resource_add_jobs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add a job to project/resource — project_resource_add_jobs","text":"project project name resource resource name job job name. missing, reset empty reset whether reset jobs","code":""},{"path":"https://taskqueue.bangyou.me/reference/project_resource_add_jobs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add a job to project/resource — project_resource_add_jobs","text":"return","code":""},{"path":"https://taskqueue.bangyou.me/reference/project_resource_get.html","id":null,"dir":"Reference","previous_headings":"","what":"Get resources of a project — project_resource_get","title":"Get resources of a project — project_resource_get","text":"Get resources project","code":""},{"path":"https://taskqueue.bangyou.me/reference/project_resource_get.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get resources of a project — project_resource_get","text":"","code":"project_resource_get(project, resource = NULL, con = NULL)"},{"path":"https://taskqueue.bangyou.me/reference/project_resource_get.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get resources of a project — project_resource_get","text":"project project name resource resource name con connection database","code":""},{"path":"https://taskqueue.bangyou.me/reference/project_resource_get.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get resources of a project — project_resource_get","text":"table resources used project","code":""},{"path":"https://taskqueue.bangyou.me/reference/project_resource_log_delete.html","id":null,"dir":"Reference","previous_headings":"","what":"Delete all logs for a project resource — project_resource_log_delete","title":"Delete all logs for a project resource — project_resource_log_delete","text":"Delete logs project resource","code":""},{"path":"https://taskqueue.bangyou.me/reference/project_resource_log_delete.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Delete all logs for a project resource — project_resource_log_delete","text":"","code":"project_resource_log_delete(project, resource, con = NULL)"},{"path":"https://taskqueue.bangyou.me/reference/project_resource_log_delete.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Delete all logs for a project resource — project_resource_log_delete","text":"project project name resource resource name con connection database","code":""},{"path":"https://taskqueue.bangyou.me/reference/project_resource_log_delete.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Delete all logs for a project resource — project_resource_log_delete","text":"return","code":""},{"path":"https://taskqueue.bangyou.me/reference/project_start.html","id":null,"dir":"Reference","previous_headings":"","what":"Start a project — project_start","title":"Start a project — project_start","text":"Start project","code":""},{"path":"https://taskqueue.bangyou.me/reference/project_start.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Start a project — project_start","text":"","code":"project_start(project, con = NULL)"},{"path":"https://taskqueue.bangyou.me/reference/project_start.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Start a project — project_start","text":"project project name con connection database","code":""},{"path":"https://taskqueue.bangyou.me/reference/project_start.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Start a project — project_start","text":"return","code":""},{"path":"https://taskqueue.bangyou.me/reference/project_status.html","id":null,"dir":"Reference","previous_headings":"","what":"Get project status — project_status","title":"Get project status — project_status","text":"Get project status","code":""},{"path":"https://taskqueue.bangyou.me/reference/project_status.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get project status — project_status","text":"","code":"project_status(project, con = NULL)"},{"path":"https://taskqueue.bangyou.me/reference/project_status.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get project status — project_status","text":"project project name con connection database","code":""},{"path":"https://taskqueue.bangyou.me/reference/project_status.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get project status — project_status","text":"return","code":""},{"path":"https://taskqueue.bangyou.me/reference/project_stop.html","id":null,"dir":"Reference","previous_headings":"","what":"Stop a project — project_stop","title":"Stop a project — project_stop","text":"Stop project","code":""},{"path":"https://taskqueue.bangyou.me/reference/project_stop.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Stop a project — project_stop","text":"","code":"project_stop(project)"},{"path":"https://taskqueue.bangyou.me/reference/project_stop.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Stop a project — project_stop","text":"project project name","code":""},{"path":"https://taskqueue.bangyou.me/reference/project_stop.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Stop a project — project_stop","text":"return","code":""},{"path":"https://taskqueue.bangyou.me/reference/resource_add.html","id":null,"dir":"Reference","previous_headings":"","what":"Add a new resource — resource_add","title":"Add a new resource — resource_add","text":"Add new resource","code":""},{"path":"https://taskqueue.bangyou.me/reference/resource_add.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add a new resource — resource_add","text":"","code":"resource_add(   name,   type = c(\"slurm\", \"computer\"),   host,   workers,   log_folder,   username = NULL,   nodename = strsplit(host, \"\\\\.\")[[1]][1],   con = NULL )"},{"path":"https://taskqueue.bangyou.me/reference/resource_add.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add a new resource — resource_add","text":"name resource name type resource type (e.g. slurm computer) host host name workers worker number log_folder log folder absolute path. username username login host. null, user Sys.info used. nodename nodename obtained Sys.info() con db connection","code":""},{"path":"https://taskqueue.bangyou.me/reference/resource_add.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add a new resource — resource_add","text":"return","code":""},{"path":"https://taskqueue.bangyou.me/reference/resource_get.html","id":null,"dir":"Reference","previous_headings":"","what":"Get a resource — resource_get","title":"Get a resource — resource_get","text":"Get resource","code":""},{"path":"https://taskqueue.bangyou.me/reference/resource_get.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get a resource — resource_get","text":"","code":"resource_get(resource, con = NULL)"},{"path":"https://taskqueue.bangyou.me/reference/resource_get.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get a resource — resource_get","text":"resource resource name con db connection","code":""},{"path":"https://taskqueue.bangyou.me/reference/resource_get.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get a resource — resource_get","text":"data frame selected resource","code":""},{"path":"https://taskqueue.bangyou.me/reference/resource_list.html","id":null,"dir":"Reference","previous_headings":"","what":"Get all resource — resource_list","title":"Get all resource — resource_list","text":"Get resource","code":""},{"path":"https://taskqueue.bangyou.me/reference/resource_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get all resource — resource_list","text":"","code":"resource_list()"},{"path":"https://taskqueue.bangyou.me/reference/resource_list.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get all resource — resource_list","text":"data frame resources","code":""},{"path":"https://taskqueue.bangyou.me/reference/shiny_app.html","id":null,"dir":"Reference","previous_headings":"","what":"A shiny app to monitor project status — shiny_app","title":"A shiny app to monitor project status — shiny_app","text":"shiny app monitor project status","code":""},{"path":"https://taskqueue.bangyou.me/reference/shiny_app.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"A shiny app to monitor project status — shiny_app","text":"","code":"shiny_app()"},{"path":"https://taskqueue.bangyou.me/reference/shiny_app.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"A shiny app to monitor project status — shiny_app","text":"return","code":""},{"path":"https://taskqueue.bangyou.me/reference/slurm_deploy.html","id":null,"dir":"Reference","previous_headings":"","what":"Deploy taskqueue into slurm resources — slurm_deploy","title":"Deploy taskqueue into slurm resources — slurm_deploy","text":"Deploy taskqueue slurm resources","code":""},{"path":"https://taskqueue.bangyou.me/reference/slurm_deploy.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Deploy taskqueue into slurm resources — slurm_deploy","text":"","code":"slurm_deploy()"},{"path":"https://taskqueue.bangyou.me/reference/slurm_deploy.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Deploy taskqueue into slurm resources — slurm_deploy","text":"return","code":""},{"path":"https://taskqueue.bangyou.me/reference/table_exist.html","id":null,"dir":"Reference","previous_headings":"","what":"Check whether a table is existed — table_exist","title":"Check whether a table is existed — table_exist","text":"Check whether table existed","code":""},{"path":"https://taskqueue.bangyou.me/reference/table_exist.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check whether a table is existed — table_exist","text":"","code":"table_exist(table, con = NULL)"},{"path":"https://taskqueue.bangyou.me/reference/table_exist.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check whether a table is existed — table_exist","text":"table table name con connection","code":""},{"path":"https://taskqueue.bangyou.me/reference/table_exist.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check whether a table is existed — table_exist","text":"logical value","code":""},{"path":"https://taskqueue.bangyou.me/reference/task_add.html","id":null,"dir":"Reference","previous_headings":"","what":"Add tasks into a project — task_add","title":"Add tasks into a project — task_add","text":"Add tasks project","code":""},{"path":"https://taskqueue.bangyou.me/reference/task_add.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add tasks into a project — task_add","text":"","code":"task_add(project, num, clean = TRUE, con = NULL)"},{"path":"https://taskqueue.bangyou.me/reference/task_add.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add tasks into a project — task_add","text":"project project name num number tasks clean whether clean existing tasks con connection database","code":""},{"path":"https://taskqueue.bangyou.me/reference/task_add.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add tasks into a project — task_add","text":"return","code":""},{"path":"https://taskqueue.bangyou.me/reference/task_clean.html","id":null,"dir":"Reference","previous_headings":"","what":"Clear all tasks in a project — task_clean","title":"Clear all tasks in a project — task_clean","text":"Clear tasks project","code":""},{"path":"https://taskqueue.bangyou.me/reference/task_clean.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clear all tasks in a project — task_clean","text":"","code":"task_clean(project, con = NULL)"},{"path":"https://taskqueue.bangyou.me/reference/task_clean.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clear all tasks in a project — task_clean","text":"project project name con connection database","code":""},{"path":"https://taskqueue.bangyou.me/reference/task_clean.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clear all tasks in a project — task_clean","text":"return","code":""},{"path":"https://taskqueue.bangyou.me/reference/task_get.html","id":null,"dir":"Reference","previous_headings":"","what":"Get tasks by status — task_get","title":"Get tasks by status — task_get","text":"Get tasks status","code":""},{"path":"https://taskqueue.bangyou.me/reference/task_get.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get tasks by status — task_get","text":"","code":"task_get(project, status = c(\"failed\"), limit = 10, con = NULL)"},{"path":"https://taskqueue.bangyou.me/reference/task_get.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get tasks by status — task_get","text":"project project name status status reset (e.g. working, failed, ), tasks status = limit number rows return con connection database","code":""},{"path":"https://taskqueue.bangyou.me/reference/task_get.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get tasks by status — task_get","text":"data frame tasks","code":""},{"path":"https://taskqueue.bangyou.me/reference/task_reset.html","id":null,"dir":"Reference","previous_headings":"","what":"Reset status of all tasks in a project to NULL — task_reset","title":"Reset status of all tasks in a project to NULL — task_reset","text":"Reset status tasks project NULL","code":""},{"path":"https://taskqueue.bangyou.me/reference/task_reset.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Reset status of all tasks in a project to NULL — task_reset","text":"","code":"task_reset(project, status = c(\"working\", \"failed\"), con = NULL)"},{"path":"https://taskqueue.bangyou.me/reference/task_reset.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Reset status of all tasks in a project to NULL — task_reset","text":"project project name status status reset (e.g. working, failed, ), tasks status = con connection database","code":""},{"path":"https://taskqueue.bangyou.me/reference/task_reset.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Reset status of all tasks in a project to NULL — task_reset","text":"return","code":""},{"path":"https://taskqueue.bangyou.me/reference/task_status.html","id":null,"dir":"Reference","previous_headings":"","what":"Get task status in a project — task_status","title":"Get task status in a project — task_status","text":"Get task status project","code":""},{"path":"https://taskqueue.bangyou.me/reference/task_status.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get task status in a project — task_status","text":"","code":"task_status(project, con = NULL)"},{"path":"https://taskqueue.bangyou.me/reference/task_status.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get task status in a project — task_status","text":"project project name con connection database","code":""},{"path":"https://taskqueue.bangyou.me/reference/task_status.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get task status in a project — task_status","text":"table show task status","code":""},{"path":"https://taskqueue.bangyou.me/reference/taskqueue_options.html","id":null,"dir":"Reference","previous_headings":"","what":"Set or get options for my package — taskqueue_options","title":"Set or get options for my package — taskqueue_options","text":"Set get options package","code":""},{"path":"https://taskqueue.bangyou.me/reference/taskqueue_options.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set or get options for my package — taskqueue_options","text":"","code":"taskqueue_options(...)"},{"path":"https://taskqueue.bangyou.me/reference/taskqueue_options.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set or get options for my package — taskqueue_options","text":"... Option names retrieve option values [key]=[value] pairs set options.","code":""},{"path":"https://taskqueue.bangyou.me/reference/taskqueue_options.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set or get options for my package — taskqueue_options","text":"Options task queue","code":""},{"path":"https://taskqueue.bangyou.me/reference/taskqueue_options.html","id":"supported-options","dir":"Reference","previous_headings":"","what":"Supported options","title":"Set or get options for my package — taskqueue_options","text":"host: Host PostgreSQL database port: Port PostgreSQL database user: User name PostgreSQL database password: Password PostgreSQL database database: Database name PostgreSQL database","code":""},{"path":"https://taskqueue.bangyou.me/reference/taskqueue_reset.html","id":null,"dir":"Reference","previous_headings":"","what":"Reset global options for pkg — taskqueue_reset","title":"Reset global options for pkg — taskqueue_reset","text":"Reset global options pkg","code":""},{"path":"https://taskqueue.bangyou.me/reference/taskqueue_reset.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Reset global options for pkg — taskqueue_reset","text":"","code":"taskqueue_reset()"},{"path":"https://taskqueue.bangyou.me/reference/taskqueue_reset.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Reset global options for pkg — taskqueue_reset","text":"return","code":""},{"path":"https://taskqueue.bangyou.me/reference/tq_apply.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply a function with task queue — tq_apply","title":"Apply a function with task queue — tq_apply","text":"Apply function task queue","code":""},{"path":"https://taskqueue.bangyou.me/reference/tq_apply.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply a function with task queue — tq_apply","text":"","code":"tq_apply(   n,   fun,   project,   resource,   memory = 10,   hour = 24,   account = NULL,   working_dir = getwd(),   ... )"},{"path":"https://taskqueue.bangyou.me/reference/tq_apply.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Apply a function with task queue — tq_apply","text":"n Number task fun function project Project name resource Resource name memory Memory GB hour Maximum runtime cluster account Optional. Account cluster working_dir Working directory cluster ... arguments fun","code":""},{"path":"https://taskqueue.bangyou.me/reference/tq_apply.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Apply a function with task queue — tq_apply","text":"return values","code":""},{"path":"https://taskqueue.bangyou.me/reference/worker.html","id":null,"dir":"Reference","previous_headings":"","what":"Execute a job on cluster — worker","title":"Execute a job on cluster — worker","text":"worker listen task channel get new job, run job mark job finished get shutdown message stop function.","code":""},{"path":"https://taskqueue.bangyou.me/reference/worker.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Execute a job on cluster — worker","text":"","code":"worker(project, fun, ...)"},{"path":"https://taskqueue.bangyou.me/reference/worker.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Execute a job on cluster — worker","text":"project project name fun function run actual works take task id first argument ... arguments passed fun","code":""},{"path":"https://taskqueue.bangyou.me/reference/worker.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Execute a job on cluster — worker","text":"return expected function","code":""},{"path":"https://taskqueue.bangyou.me/reference/worker.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Execute a job on cluster — worker","text":"","code":"if (FALSE) { # \\dontrun{ worker(\"test_project\", mean) } # }"},{"path":"https://taskqueue.bangyou.me/reference/worker_slurm.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a worker on slurm cluster — worker_slurm","title":"Create a worker on slurm cluster — worker_slurm","text":"Create worker slurm cluster","code":""},{"path":"https://taskqueue.bangyou.me/reference/worker_slurm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a worker on slurm cluster — worker_slurm","text":"","code":"worker_slurm(   project,   resource,   fun,   rfile,   module_r = \"R/4.3.1\",   module_pg = \"postgresql/16.0\",   modules = NULL,   pkgs = rev(.packages()),   submit = TRUE,   ... )"},{"path":"https://taskqueue.bangyou.me/reference/worker_slurm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a worker on slurm cluster — worker_slurm","text":"project Project name. resource Resource name. fun Function running workers. See details. rfile R script file path. See details. module_r Module name R. module_pg Module name postgresql. See details. modules extra modules load slurm. See details. pkgs character vector containing names packages must loaded worker including packages default worker_slurm called. submit Whether submit slurm cluster (TRUE default). See details. ... Extra arguments fun.","code":""},{"path":"https://taskqueue.bangyou.me/reference/worker_slurm.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a worker on slurm cluster — worker_slurm","text":"return","code":""},{"path":"https://taskqueue.bangyou.me/reference/worker_slurm.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create a worker on slurm cluster — worker_slurm","text":"two ways pass R scripts workers (.e. fun file). * fun used general simple case takes task id first argument. new r script created log  folder running workers. required packages passed using pkgs.  Extra arguments specified .... taskqueue_options() passed  workers.  * rfile used complicated case. Function worker  called end file. taskqueue_options() passed workers.  * fun higher priority file. submit file created log folder project/resource random file name. system command ssh used connect remote slurm host submit = TRUE.","code":""},{"path":"https://taskqueue.bangyou.me/reference/worker_slurm.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a worker on slurm cluster — worker_slurm","text":"","code":"if (FALSE) { # \\dontrun{ fun_test <- function(i, prefix) {     Sys.sleep(runif(1) * 2) } worker_slurm(\"test_project\", \"slurm\", fun = fun_test) worker_slurm(\"test_project\", \"slurm\", fun = fun_test, prefix = \"a\") worker_slurm(\"test_project\", \"slurm\", rfile = \"rfile.R\") worker_slurm(\"test_project\", \"slurm\", fun = fun_test, submit = FALSE) } # }"},{"path":"https://taskqueue.bangyou.me/news/index.html","id":"taskqueue-020","dir":"Changelog","previous_headings":"","what":"taskqueue 0.2.0","title":"taskqueue 0.2.0","text":"Use ssh library instead ssh command communicate remote hosts.","code":""},{"path":"https://taskqueue.bangyou.me/news/index.html","id":"taskqueue-001","dir":"Changelog","previous_headings":"","what":"taskqueue 0.0.1","title":"taskqueue 0.0.1","text":"first release taskqueue package.","code":""}]
