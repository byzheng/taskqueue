# taskqueue

[![](https://www.r-pkg.org/badges/version/taskqueue?color=green)](https://cran.r-project.org/package=taskqueue)
![R-CMD-check](https://github.com/byzheng/taskqueue/workflows/R-CMD-check/badge.svg)

[![](http://cranlogs.r-pkg.org/badges/grand-total/taskqueue?color=green)](https://cran.r-project.org/package=taskqueue)
[![](http://cranlogs.r-pkg.org/badges/last-month/taskqueue?color=green)](https://cran.r-project.org/package=taskqueue)
[![](http://cranlogs.r-pkg.org/badges/last-week/taskqueue?color=green)](https://cran.r-project.org/package=taskqueue)

Task Queue is implemented in R for asynchronous tasks based on
[PostgreSQL](https://www.postgresql.org/) database. This package is only
suitable for parallel computing without any communication among parallel
tasks (i.e. [Embarrassingly
parallel](https://en.wikipedia.org/wiki/Embarrassingly_parallel)).

## Challenge of parallel computing in R

Several R packages have been using for parallel computing
(e.g. [High-Performance and Parallel Computing with
R](https://cran.r-project.org/web/views/HighPerformanceComputing.html)
which are not suitable for asynchronous tasks.

- Uneven load among cores/workers. Some workers run faster than others
  and then wait for others to stop.
- Cannot utilise the new available workers after a parallel task is
  started.

`taskqueue` is designed to utilise all available computing resources
until all tasks are finished through dynamic allocating tasks to
workers.

## Installation

Install the developing version from
[Github](https://github.com/byzheng/taskqueue).

``` r
remotes::install_github('byzheng/taskqueue')
```

## Getting Started

Please refer to

- [Getting
  Started](https://taskqueue.bangyou.me/vignettes/getting-started.html)
  vignette for more details.
- [Simple workflow
  example](https://taskqueue.bangyou.me/articles/simple-workflow-example.html)
  article for a complete simplified workflow.

# Package index

## All functions

- [`db_clean()`](https://taskqueue.bangyou.me/reference/db_clean.md) :
  Clean all tables and definition
- [`db_connect()`](https://taskqueue.bangyou.me/reference/db_connect.md)
  : Connect to postgreSQL db
- [`db_disconnect()`](https://taskqueue.bangyou.me/reference/db_disconnect.md)
  : Disconnect to db
- [`db_init()`](https://taskqueue.bangyou.me/reference/db_init.md) :
  Initialize PostgreSQL database for taskqueue
- [`db_sql()`](https://taskqueue.bangyou.me/reference/db_sql.md) : A
  Wrapper function for DBI interface
- [`.check_absolute_path()`](https://taskqueue.bangyou.me/reference/dot-check_absolute_path.md)
  : Check absolute path for system
- [`.check_linux_absolute_path()`](https://taskqueue.bangyou.me/reference/dot-check_linux_absolute_path.md)
  : Check absolute path for Linux
- [`.check_windows_absolute_path()`](https://taskqueue.bangyou.me/reference/dot-check_windows_absolute_path.md)
  : Check absolute path for Windows
- [`is_db_connect()`](https://taskqueue.bangyou.me/reference/is_db_connect.md)
  : Test whether db can be connected
- [`project_add()`](https://taskqueue.bangyou.me/reference/project_add.md)
  : Create project to database
- [`project_delete()`](https://taskqueue.bangyou.me/reference/project_delete.md)
  : Delete a project
- [`project_get()`](https://taskqueue.bangyou.me/reference/project_get.md)
  : Get a project
- [`project_list()`](https://taskqueue.bangyou.me/reference/project_list.md)
  : List all projects
- [`project_reset()`](https://taskqueue.bangyou.me/reference/project_reset.md)
  : Reset a project
- [`project_resource_add()`](https://taskqueue.bangyou.me/reference/project_resource_add.md)
  : Assign a resource to a project
- [`project_resource_add_jobs()`](https://taskqueue.bangyou.me/reference/project_resource_add_jobs.md)
  : Add a job to project/resource
- [`project_resource_get()`](https://taskqueue.bangyou.me/reference/project_resource_get.md)
  : Get resources of a project
- [`project_resource_log_delete()`](https://taskqueue.bangyou.me/reference/project_resource_log_delete.md)
  : Delete all logs for a project resource
- [`project_start()`](https://taskqueue.bangyou.me/reference/project_start.md)
  : Start a project
- [`project_status()`](https://taskqueue.bangyou.me/reference/project_status.md)
  : Get project status
- [`project_stop()`](https://taskqueue.bangyou.me/reference/project_stop.md)
  : Stop a project
- [`resource_add()`](https://taskqueue.bangyou.me/reference/resource_add.md)
  : Add a new resource
- [`resource_get()`](https://taskqueue.bangyou.me/reference/resource_get.md)
  : Get a resource
- [`resource_list()`](https://taskqueue.bangyou.me/reference/resource_list.md)
  : Get all resource
- [`shiny_app()`](https://taskqueue.bangyou.me/reference/shiny_app.md) :
  A shiny app to monitor project status
- [`slurm_deploy()`](https://taskqueue.bangyou.me/reference/slurm_deploy.md)
  : Deploy taskqueue into slurm resources
- [`table_exist()`](https://taskqueue.bangyou.me/reference/table_exist.md)
  : Check whether a table is existed
- [`task_add()`](https://taskqueue.bangyou.me/reference/task_add.md) :
  Add tasks into a project
- [`task_clean()`](https://taskqueue.bangyou.me/reference/task_clean.md)
  : Clear all tasks in a project
- [`task_get()`](https://taskqueue.bangyou.me/reference/task_get.md) :
  Get tasks by status
- [`task_reset()`](https://taskqueue.bangyou.me/reference/task_reset.md)
  : Reset status of all tasks in a project to NULL
- [`task_status()`](https://taskqueue.bangyou.me/reference/task_status.md)
  : Get task status in a project
- [`taskqueue_options()`](https://taskqueue.bangyou.me/reference/taskqueue_options.md)
  : Set or get options for my package
- [`taskqueue_reset()`](https://taskqueue.bangyou.me/reference/taskqueue_reset.md)
  : Reset global options for pkg
- [`tq_apply()`](https://taskqueue.bangyou.me/reference/tq_apply.md) :
  Apply a function with task queue
- [`worker()`](https://taskqueue.bangyou.me/reference/worker.md) :
  Execute a job on cluster
- [`worker_slurm()`](https://taskqueue.bangyou.me/reference/worker_slurm.md)
  : Create a worker on slurm cluster

# Articles

### All vignettes

- [Getting Started with
  taskqueue](https://taskqueue.bangyou.me/articles/getting-started.md):
- [PostgreSQL Setup for
  taskqueue](https://taskqueue.bangyou.me/articles/postgresql-setup.md):
- [Simple Workflow with
  tq_apply](https://taskqueue.bangyou.me/articles/simple-workflow.md):
- [SSH Setup for
  taskqueue](https://taskqueue.bangyou.me/articles/ssh-setup.md):
